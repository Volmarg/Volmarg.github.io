(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{70:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var i=n(2),r=n(6),s=(n(0),n(98)),a={title:"Session",sidebar_label:"Session",slug:"session"},o={unversionedId:"technical/special-functionality/session",id:"technical/special-functionality/session",isDocsHomePage:!1,title:"Session",description:"User roles stored in session",source:"@site/docs/technical/special-functionality/session.md",slug:"/technical/special-functionality/session",permalink:"/docs/technical/special-functionality/session",version:"current",sidebar_label:"Session",sidebar:"someSidebar",previous:{title:"Lock mechanism",permalink:"/docs/technical/special-functionality/lock-mechanism"},next:{title:"Commands",permalink:"/docs/technical/composer-commands/commands"}},c=[{value:"User roles stored in session",id:"user-roles-stored-in-session",children:[]},{value:"Expirable session",id:"expirable-session",children:[]}],l={rightToc:c};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(i.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h2",{id:"user-roles-stored-in-session"},"User roles stored in session"),Object(s.b)("p",null,"This logic allows giving user rights without need to logout out. The roles stored this way in session are invalidated\nupon logging out or after given (configured) amount of time."),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"See:")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"src/Services/Session/UserRolesSessionService")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"src/Twig/Services/SessionService"))),Object(s.b)("div",{className:"admonition admonition-important alert alert--info"},Object(s.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(i.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(i.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(i.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(s.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"This class was implemented due to high (good written) logic for userRefresh which is impossible to bypass,\nthe best one - cleanest would be implementing new authentication provider logic.\nBack when this was implemented the authentication relied on old deprecated FosUserBundle."))),Object(s.b)("h2",{id:"expirable-session"},"Expirable session"),Object(s.b)("p",null,"Normally data in session will not expire on itself unless for example user will logout, close browser or after the\nphp based lifetime is expired. With this service special ",Object(s.b)("inlineCode",{parentName:"p"},"session_lifetime")," key is being set, with this:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},"if given session key will expire then it will be removed from sessions,")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},"if key has not expired then its lifetime will be extended,"),Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"See:")))),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"src/Services/Session/ExpirableSessionsService")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"config/services.yaml"))),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-yaml"}),"parameters:\n    session_data.lifetime.system_lock: 900 #in seconds\n")))}p.isMDXComponent=!0},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var i=n(0),r=n.n(i);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},b=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,a=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),b=p(n),m=i,d=b["".concat(a,".").concat(m)]||b[m]||u[m]||s;return n?r.a.createElement(d,o(o({ref:t},l),{},{components:n})):r.a.createElement(d,o({ref:t},l))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,a=new Array(s);a[0]=m;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:i,a[1]=o;for(var l=2;l<s;l++)a[l]=n[l];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);